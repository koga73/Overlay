/* Overlay v1.0.0 Copyright (c) 2015 AJ Savino - MIT LICENSE */
var Overlay={hiddenContainer:null,container:null,background:null,content:null,frame:null,close:null,onBeforeShow:null,onAfterShow:null,onBeforeHide:null,onAfterHide:null,initialize:function(e){var t=$("#"+e);t.hide();Overlay.hiddenContainer=t;Overlay.container=$("<div id='overlayContainer'></div>");Overlay.background=$("<div id='overlayBackground'></div>");Overlay.frame=$("<div id='overlayFrame'></div>");Overlay.close=$("<a id='btnClose' href='#close'></a>");Overlay.frame.append(Overlay.close);Overlay.container.append(Overlay.background);Overlay.container.append(Overlay.frame)},destroy:function(){Overlay.hiddenContainer=null;var e=Overlay.close;if(e){e.off("click",Overlay.handler_close_clicked);e.remove()}Overlay.close=null;var t=Overlay.content;if(t){t.css("width",t.data("width"));t.css("height",t.data("height"));t.remove();hiddenContainer.append(t)}Overlay.content=null;var n=Overlay.frame;if(n){n.css("margin-top","");n.css("margin-left","");n.css("width","");n.css("height","");n.remove()}Overlay.frame=null;var r=Overlay.background;if(r){r.off("click",Overlay.handler_background_click);r.remove()}Overlay.background=null;var i=Overlay.container;if(i){i.remove()}Overlay.container=null;Overlay.onBeforeShow=null;Overlay.onAfterShow=null;Overlay.onBeforeHide=null;Overlay.onAfterHide=null},show:function(e,t){if(Overlay.content!=null){Overlay.hide()}if(Overlay.onBeforeShow){Overlay.onBeforeShow()}var n,r,i,s;if(typeof t!==typeof undefined){if(typeof t.width!==typeof undefined){n=t.width}if(typeof t.height!==typeof undefined){r=t.height}if(typeof t.offsetX!==typeof undefined){i=t.offsetX}if(typeof t.offsetY!==typeof undefined){s=t.offsetY}}var o=Overlay.hiddenContainer;var u=Overlay.container;var a=Overlay.background;var f=Overlay.frame;var l=Overlay.close;var c=$("#"+e);if(typeof n===typeof undefined){if(typeof document.documentElement.currentStyle!==typeof undefined){n=c[0].currentStyle.width}else{n=c.css("width")}}if(parseInt(n)){f.css("width",n);c.data("width",n);c.css("width","100%")}if(typeof r===typeof undefined){if(typeof document.documentElement.currentStyle!==typeof undefined){r=c[0].currentStyle.height}else{r=c.css("height")}}if(parseInt(r)){f.css("height",r);c.data("height",r);c.css("height","100%")}if(typeof i!==typeof undefined){f.css("left",i)}if(typeof s!==typeof undefined){f.css("top",s)}Overlay.content=c;a.on("click",Overlay.handler_background_click);l.on("click",Overlay.handler_close_clicked);f.append(c);$("body").append(u);if(Overlay.onAfterShow){Overlay.onAfterShow()}},hide:function(e){if(Overlay.onBeforeHide&&e!==true){Overlay.onBeforeHide()}var t=Overlay.hiddenContainer;var n=Overlay.close;if(n){n.off("click",Overlay.handler_close_clicked)}var r=Overlay.frame;if(r){r.css("margin-top","");r.css("margin-left","");r.css("width","");r.css("height","")}var i=Overlay.content;if(i){i.css("width",i.data("width"));i.css("height",i.data("height"));i.remove();t.append(i)}Overlay.content=null;var s=Overlay.background;if(s){s.off("click",Overlay.handler_background_click)}var o=Overlay.container;if(o){o.remove()}if(Overlay.onAfterHide&&e!==true){Overlay.onAfterHide()}},handler_close_clicked:function(e){e.stopImmediatePropagation();Overlay.hide();return false},handler_background_click:function(e){e.stopImmediatePropagation();Overlay.hide();return false}}